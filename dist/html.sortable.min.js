"use strict";!function(a){var b,c,d=a();a.fn.sortable=function(e){var f=String(e);return e=a.extend({connectWith:!1,placeholder:null,dragImage:null},e),this.each(function(){var g,h=a(this).children(e.items),i=e.handle?h.find(e.handle):h;if("reload"===f&&a(this).children(e.items).off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"),/^enable|disable|destroy$/.test(f)){var j=a(this).children(a(this).data("items")).attr("draggable","enable"===f);return void("destroy"===f&&(a(this).off("sortupdate"),a(this).removeData("opts"),j.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s").off("sortupdate"),i.off("selectstart.h5s")))}var k=a(this).data("opts");"undefined"==typeof k?a(this).data("opts",e):e=k;var l,m,n=null===e.placeholder?a("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder"/>'):a(e.placeholder).addClass("sortable-placeholder");a(this).data("items",e.items),d=d.add(n),e.connectWith&&a(e.connectWith).add(this).data("connectWith",e.connectWith),h.attr("role","option"),h.attr("aria-grabbed","false"),i.attr("draggable","true").not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end(),h.on("dragstart.h5s",function(d){var f=d.originalEvent.dataTransfer;f.effectAllowed="move",f.setData("text",""),e.dragImage&&f.setDragImage&&f.setDragImage(e.dragImage,0,0),g=(b=a(this)).addClass("sortable-dragging").attr("aria-grabbed","true").index(),c=b.outerHeight(),l=a(this).parent(),b.parent().triggerHandler("sortstart",{item:b,startparent:l})}).on("dragend.h5s",function(){b&&(b.removeClass("sortable-dragging").attr("aria-grabbed","false").show(),d.detach(),m=a(this).parent(),(g!==b.index()||l.get(0)!==m.get(0))&&b.parent().triggerHandler("sortupdate",{item:b,oldindex:g,startparent:l,endparent:m}),b.parent().trigger("mouseup"),b=null,c=null)}).add([this,n]).on("dragover.h5s dragenter.h5s drop.h5s",function(f){if(!h.is(b)&&e.connectWith!==a(b).parent().data("connectWith"))return!0;if("drop"===f.type)return f.stopPropagation(),d.filter(":visible").after(b),b.trigger("dragend.h5s"),!1;if(f.preventDefault(),f.originalEvent.dataTransfer.dropEffect="move",h.is(this)){var i=a(this).outerHeight();if(e.forcePlaceholderSize&&n.height(c),i>c){var j=i-c,k=a(this).offset().top;if(n.index()<a(this).index()&&f.originalEvent.pageY<k+j)return!1;if(n.index()>a(this).index()&&f.originalEvent.pageY>k+i-j)return!1}b.hide(),a(this)[n.index()<a(this).index()?"after":"before"](n),d.not(n).detach();var o=b.siblings().index(n);b.parent().triggerHandler("sortchange",{item:b,oldindex:g,newindex:o,startparent:l,endparent:m,placeholder:n})}else d.is(this)||a(this).children(e.items).length||(d.detach(),a(this).append(n));return!1})})}}(jQuery);
//# sourceMappingURL=html.sortable.min.js.map