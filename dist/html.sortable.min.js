!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.sortable=t(e.jQuery)}(this,function(e){"use strict";var t,a,r,n,i,d,o=e(),s=[],f=function(e){e.off("dragstart.h5s"),e.off("dragend.h5s"),e.off("selectstart.h5s"),e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},l=function(e){e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},h=function(e,t){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",""),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(t.item,t.x,t.y)},g=function(e,t){return t.x||(t.x=parseInt(e.pageX-t.draggedItem.offset().left)),t.y||(t.y=parseInt(e.pageY-t.draggedItem.offset().top)),t},c=function(e){return{item:e[0],draggedItem:e}},p=function(e,t){var a=c(t);a=g(e,a),h(e,a)},u=function(e,t){return"undefined"==typeof e?t:e},m=function(e){e.removeData("opts"),e.removeData("connectWith"),e.removeData("items"),e.removeAttr("aria-dropeffect")},v=function(e){e.removeAttr("aria-grabbed"),e.removeAttr("draggable"),e.removeAttr("role")},b=function(e,t){return e[0]===t[0]?!0:void 0!==e.data("connectWith")?e.data("connectWith")===t.data("connectWith"):!1},x=function(e){var t=e.data("opts")||{},a=e.children(t.items),r=t.handle?a.find(t.handle):a;l(e),m(e),r.off("mousedown.h5s"),f(a),v(a)},I=function(t){var a=t.data("opts"),r=t.children(a.items),n=a.handle?r.find(a.handle):r;t.attr("aria-dropeffect","move"),n.attr("draggable","true"),"function"!=typeof document.createElement("span").dragDrop||a.disableIEFix||n.on("mousedown.h5s",function(){-1!==r.index(this)?this.dragDrop():e(this).parents(a.items)[0].dragDrop()})},y=function(e){var t=e.data("opts"),a=e.children(t.items),r=t.handle?a.find(t.handle):a;e.attr("aria-dropeffect","none"),r.attr("draggable",!1),r.off("mousedown.h5s")},D=function(e){var t=e.data("opts"),a=e.children(t.items),r=t.handle?a.find(t.handle):a;f(a),r.off("mousedown.h5s"),l(e)},E=function(f,l){var g=e(f),c=String(l);return l=e.extend({connectWith:!1,placeholder:null,dragImage:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging"},l),g.each(function(){var f=e(this);if(/enable|disable|destroy/.test(c))return void E[c](f);l=u(f.data("opts"),l),f.data("opts",l),D(f);var g,m,v,x=f.children(l.items),y=null===l.placeholder?e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="'+l.placeholderClass+'"/>'):e(l.placeholder).addClass(l.placeholderClass);if(!f.attr("data-sortable-id")){var C=s.length;s[C]=f,f.attr("data-sortable-id",C),x.attr("data-item-sortable-id",C)}f.data("items",l.items),o=o.add(y),l.connectWith&&f.data("connectWith",l.connectWith),I(f),x.attr("role","option"),x.attr("aria-grabbed","false"),x.on("dragstart.h5s",function(o){o.stopImmediatePropagation(),l.dragImage?(h(o.originalEvent,{item:l.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):p(o.originalEvent,e(this),l.dragImage),t=e(this),t.addClass(l.draggingClass),t.attr("aria-grabbed","true"),r=t.index(),n=t.parent(),i=t.prev(),d=!1,g=t.index(),a=t.height(),m=e(this).parent(),t.parent().triggerHandler("sortstart",{item:t,placeholder:y,startparent:m})}),x.on("dragend.h5s",function(){t&&(d||(0===r?n.prepend(t):t.insertAfter(i)),t.removeClass(l.draggingClass),t.attr("aria-grabbed","false"),t.show(),o.detach(),v=e(this).parent(),t.parent().triggerHandler("sortstop",{item:t,startparent:m}),(g!==t.index()||m.get(0)!==v.get(0))&&t.parent().triggerHandler("sortupdate",{item:t,index:v.children(v.data("items")).index(t),oldindex:x.index(t),elementIndex:t.index(),oldElementIndex:g,startparent:m,endparent:v}),t=null,a=null)}),e(this).add([y]).on("drop.h5s",function(a){return b(f,e(t).parent())?(a.stopPropagation(),o.filter(":visible").after(t),d=!0,t.trigger("dragend.h5s"),!1):void 0}),x.add([this,y]).on("dragover.h5s dragenter.h5s",function(r){if(b(f,e(t).parent())){if(r.preventDefault(),r.originalEvent.dataTransfer.dropEffect="move",x.is(this)){var n=e(this).height();if(l.forcePlaceholderSize&&y.height(a),n>a){var i=n-a,d=e(this).offset().top;if(y.index()<e(this).index()&&r.originalEvent.pageY<d+i)return!1;if(y.index()>e(this).index()&&r.originalEvent.pageY>d+n-i)return!1}t.is(":visible")&&(t.hide(),t.appendTo(e(t).parent())),y.index()<e(this).index()?e(this).after(y):e(this).before(y),o.not(y).detach()}else o.is(this)||e(this).children(l.items).length||(o.detach(),e(this).append(y));return!1}})})};return E.destroy=function(e){x(e)},E.enable=function(e){I(e)},E.disable=function(e){y(e)},e.fn.sortable=function(e){return E(this,e)},E});
//# sourceMappingURL=html.sortable.min.js.map