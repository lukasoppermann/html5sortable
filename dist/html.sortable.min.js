!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.sortable=t()}(this,function(){"use strict";function e(e,t,n){var r=null;return 0===t?e:function(){var a=n||this,o=arguments;clearTimeout(r),r=setTimeout(function(){e.apply(a,o)},t)}}function t(e){return e.children}var n,r,a=[],o=[],i=function(e,t,n){return void 0===n?e&&e.h5s&&e.h5s.data&&e.h5s.data[t]:(e.h5s=e.h5s||{},e.h5s.data=e.h5s.data||{},e.h5s.data[t]=n,void 0)},s=function(e){e.h5s&&delete e.h5s.data},l=function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)},d=function(e,t){if(!t)return Array.prototype.slice.call(e);for(var n=[],r=0;r<e.length;++r)"string"==typeof t&&l(e[r],t)&&n.push(e[r]),t.indexOf(e[r])!==-1&&n.push(e[r]);return n},c=function(e,t,n){if(e instanceof Array)for(var r=0;r<e.length;++r)c(e[r],t,n);else e.addEventListener(t,n),e.h5s=e.h5s||{},e.h5s.events=e.h5s.events||{},e.h5s.events[t]=n},f=function(e,t){if(e instanceof Array)for(var n=0;n<e.length;++n)f(e[n],t);else e.h5s&&e.h5s.events&&e.h5s.events[t]&&(e.removeEventListener(t,e.h5s.events[t]),delete e.h5s.events[t])},u=function(e,t,n){if(e instanceof Array)for(var r=0;r<e.length;++r)u(e[r],t,n);else e.setAttribute(t,n)},p=function(e,t){if(e instanceof Array)for(var n=0;n<e.length;++n)p(e[n],t);else e.removeAttribute(t)},h=function(e){var t=e.getClientRects()[0];return{left:t.left+window.scrollX,top:t.top+window.scrollY}},g=function(e){f(e,"dragstart"),f(e,"dragend"),f(e,"selectstart"),f(e,"dragover"),f(e,"dragenter"),f(e,"drop")},m=function(e){f(e,"dragover"),f(e,"dragenter"),f(e,"drop")},v=function(e,t){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",""),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(t.draggedItem,t.x,t.y)},y=function(e,t){return t.x||(t.x=parseInt(e.pageX-h(t.draggedItem).left)),t.y||(t.y=parseInt(e.pageY-h(t.draggedItem).top)),t},b=function(e){return{draggedItem:e}},E=function(e,t){var n=b(t);n=y(e,n),v(e,n)},x=function(e){s(e),p(e,"aria-dropeffect")},I=function(e){p(e,"aria-grabbed"),p(e,"draggable"),p(e,"role")},w=function(e,t){return e===t||void 0!==i(e,"connectWith")&&i(e,"connectWith")===i(t,"connectWith")},C=function(e,t){var n,r=[];if(!t)return e;for(var a=0;a<e.length;++a)n=e[a].querySelectorAll(t),r=r.concat(Array.prototype.slice.call(n));return r},A=function(e){var n=i(e,"opts")||{},r=d(t(e),n.items),a=C(r,n.handle);m(e),x(e),f(a,"mousedown"),g(r),I(r)},D=function(e){var n=i(e,"opts"),r=d(t(e),n.items),a=C(r,n.handle);u(e,"aria-dropeffect","move"),u(a,"draggable","true");var o=(document||window.document).createElement("span");"function"!=typeof o.dragDrop||n.disableIEFix||c(a,"mousedown",function(){if(r.indexOf(this)!==-1)this.dragDrop();else{for(var e=this.parentElement;r.indexOf(e)===-1;)e=e.parentElement;e.dragDrop()}})},S=function(e){var n=i(e,"opts"),r=d(t(e),n.items),a=C(r,n.handle);u(e,"aria-dropeffect","none"),u(a,"draggable","false"),f(a,"mousedown")},L=function(e){var n=i(e,"opts"),r=d(t(e),n.items),a=C(r,n.handle);g(r),f(a,"mousedown"),m(e)},O=function(e){return e.parentElement?Array.prototype.indexOf.call(e.parentElement.children,e):0},T=function(e){return!!e.parentNode},W=function(e,t){if("string"!=typeof e)return e;var n=document.createElement(t);return n.innerHTML=e,n.firstChild},N=function(e,t){e.parentElement.insertBefore(t,e)},M=function(e,t){e.parentElement.insertBefore(t,e.nextElementSibling)},P=function(e){e.parentNode&&e.parentNode.removeChild(e)},Y=function(e,t){var n=document.createEvent("Event");return t&&(n.detail=t),n.initEvent(e,!1,!0),n},q=function(e,t){o.forEach(function(n){w(e,n)&&n.dispatchEvent(t)})},z=function(s,f){var p=String(f);return f&&"function"==typeof f.getChildren&&(t=f.getChildren),f=function(e){var t={connectWith:!1,placeholder:null,dragImage:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",hoverClass:!1,debounce:0};for(var n in e)"function"!=typeof e[n]&&(t[n]=e[n]);return t}(f),"string"==typeof s&&(s=document.querySelectorAll(s)),s instanceof window.Element&&(s=[s]),s=Array.prototype.slice.call(s),s.forEach(function(s){if(/enable|disable|destroy/.test(p))return void z[p](s);f=i(s,"opts")||f,i(s,"opts",f),L(s);var g,m,y=d(t(s),f.items),b=f.placeholder;if(b||(b=document.createElement(/^ul|ol$/i.test(s.tagName)?"li":"div")),b=W(b,s.tagName),b.classList.add.apply(b.classList,f.placeholderClass.split(" ")),!s.getAttribute("data-sortable-id")){var x=o.length;o[x]=s,u(s,"data-sortable-id",x),u(y,"data-item-sortable-id",x)}if(i(s,"items",f.items),a.push(b),f.connectWith&&i(s,"connectWith",f.connectWith),D(s),u(y,"role","option"),u(y,"aria-grabbed","false"),f.hoverClass){var I="sortable-over";"string"==typeof f.hoverClass&&(I=f.hoverClass),c(y,"mouseenter",function(){this.classList.add(I)}),c(y,"mouseleave",function(){this.classList.remove(I)})}c(y,"dragstart",function(e){e.stopImmediatePropagation(),f.handle&&!l(e.target,f.handle)||(f.dragImage?(v(e,{draggedItem:f.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):E(e,this),this.classList.add(f.draggingClass),n=this,u(n,"aria-grabbed","true"),g=O(n),r=parseInt(window.getComputedStyle(n).height),m=this.parentElement,q(s,Y("sortstart",{item:n,placeholder:b,startparent:m})))}),c(y,"dragend",function(){var e;n&&(n.classList.remove(f.draggingClass),u(n,"aria-grabbed","false"),n.style.display=n.oldDisplay,delete n.oldDisplay,a.forEach(P),e=this.parentElement,q(s,Y("sortstop",{item:n,startparent:m})),g===O(n)&&m===e||q(s,Y("sortupdate",{item:n,index:d(t(e),i(e,"items")).indexOf(n),oldindex:y.indexOf(n),elementIndex:O(n),oldElementIndex:g,startparent:m,endparent:e})),n=null,r=null)}),c([s,b],"drop",function(e){var t;w(s,n.parentElement)&&(e.preventDefault(),e.stopPropagation(),t=a.filter(T)[0],M(t,n),n.dispatchEvent(Y("dragend")))});var C=e(function(e,o){if(n)if(y.indexOf(e)!==-1){var i=parseInt(window.getComputedStyle(e).height),s=O(b),l=O(e);if(f.forcePlaceholderSize&&(b.style.height=r+"px"),i>r){var c=i-r,u=h(e).top;if(s<l&&o<u+c)return;if(s>l&&o>u+i-c)return}void 0===n.oldDisplay&&(n.oldDisplay=n.style.display),n.style.display="none",s<l?M(e,b):N(e,b),a.filter(function(e){return e!==b}).forEach(P)}else a.indexOf(e)!==-1||d(t(e),f.items).length||(a.forEach(P),e.appendChild(b))},f.debounce),A=function(e){w(s,n.parentElement)&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",C(this,e.pageY))};c(y.concat(s),"dragover",A),c(y.concat(s),"dragenter",A)}),s};return z.destroy=function(e){A(e)},z.enable=function(e){D(e)},z.disable=function(e){S(e)},z});
//# sourceMappingURL=html.sortable.min.js.map
