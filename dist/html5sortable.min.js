var sortable=function(){"use strict";function e(e,t,r){if(void 0===r)return e&&e.h5s&&e.h5s.data&&e.h5s.data[t];e.h5s=e.h5s||{},e.h5s.data=e.h5s.data||{},e.h5s.data[t]=r}function t(e,t){if(!(e instanceof NodeList||e instanceof HTMLCollection))throw new Error("You must provide a nodeList/HTMLCollection of elements to be filtered.");return"string"!=typeof t?Array.from(e):Array.from(e).filter(function(e){return 1===e.nodeType&&e.matches(t)})}function r(e,t,n){if(e instanceof Array)for(var a=0;a<e.length;++a)r(e[a],t,n);else e.addEventListener(t,n),e.h5s=e.h5s||{},e.h5s.events=e.h5s.events||{},e.h5s.events[t]=n}function n(e,t){if(e instanceof Array)for(var r=0;r<e.length;++r)n(e[r],t);else e.h5s&&e.h5s.events&&e.h5s.events[t]&&(e.removeEventListener(t,e.h5s.events[t]),delete e.h5s.events[t])}function a(e,t,r){if(e instanceof Array)for(var n=0;n<e.length;++n)a(e[n],t,r);else e.setAttribute(t,r)}function o(e,t){if(e instanceof Array)for(var r=0;r<e.length;++r)o(e[r],t);else e.removeAttribute(t)}function i(e){if(!e.parentElement)throw new Error("target element must be part of the dom");var t=e.getClientRects()[0];return{left:t.left+window.scrollX,right:t.right+window.scrollX,top:t.top+window.scrollY,bottom:t.bottom+window.scrollY}}function s(e){return e.parentElement?Array.prototype.indexOf.call(e.parentElement.children,e):-1}function l(e){if(!e||1!==e.nodeType)throw new Error("Element is not a node element.");return null!==e.parentNode}var d,c,f=function(e,t,r){if(void 0===r&&(r="before"),1!==(e||{}).nodeType||!e.parentElement||1!==(t||{}).nodeType)throw new Error("target and element must be a node");e.parentElement.insertBefore(t,"before"===r?e:e.nextElementSibling)},u=function(e,t){return f(e,t,"before")},p=function(e,t){return f(e,t,"after")},m=new Map,g=function(e){n(e,"dragstart"),n(e,"dragend"),n(e,"selectstart"),n(e,"dragover"),n(e,"dragenter"),n(e,"drop"),n(e,"mouseenter"),n(e,"mouseleave")},h=function(e){n(e,"dragover"),n(e,"dragenter"),n(e,"drop")},v=function(e,t,r){if(void 0===t&&(t=void 0),void 0===r&&(r="sortable-placeholder"),"string"==typeof t){var n=document.createElement(e.tagName);n.innerHTML=t,t=n.children[0]}else{switch(e.tagName){case"UL":case"OL":t="li";break;case"TABLE":case"TBODY":t="tr";break;default:t="div"}t=document.createElement(t)}return(a=t.classList).add.apply(a,r.split(" ")),t;var a},y=function(e,t){var r=function(e){return{draggedItem:e}}(t);!function(e,t){e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setData("text","arbitrary-content"),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(t.draggedItem,t.x,t.y)}(e,r=function(e,t){return t.x||(t.x=parseInt(e.pageX-i(t.draggedItem).left)),t.y||(t.y=parseInt(e.pageY-i(t.draggedItem).top)),t}(e,r))},b=function(e,t){var r=e;return w(t)&&(a(r=e.cloneNode(!0),"aria-copied","true"),e.parentElement.appendChild(r),r.style.display="none",r.oldDisplay=e.style.display),r},E=function(t,r){if(I(t)){var n=e(t,"opts").acceptFrom;if(null!==n)return!1!==n&&n.split(",").filter(function(e){return e.length>0&&r.matches(e)}).length>0;if(t===r)return!0;if(void 0!==e(t,"connectWith"))return e(t,"connectWith")===e(r,"connectWith")}return!1},w=function(t){return!0===e(t,"opts").copy},x=function(e){var t=window.getComputedStyle(e);return["height","padding-top","padding-bottom"].map(function(e){var r=parseInt(t.getPropertyValue(e),10);return isNaN(r)?0:r}).reduce(function(e,t){return e+t})},A=function(e,t){var r,n=[];if(!t)return e;for(var a=0;a<e.length;++a)r=e[a].querySelectorAll(t),n=n.concat(Array.prototype.slice.call(r));return n};function I(t){return void 0!==t&&null!=t&&void 0!==e(t,"opts")}function L(e){for(;(e=e.parentElement)&&!I(e););return e}function T(r,n){var a=e(r,"opts"),o=t(r.children,a.items).filter(function(e){return e.contains(n)});return o.length>0?o[0]:n}var C=function(r){var a,i,s=e(r,"opts")||{},l=t(r.children,s.items),d=A(l,s.handle);h(r),(i=a=r).h5s&&delete i.h5s.data,o(a,"aria-dropeffect"),n(d,"mousedown"),g(l),function(e){o(e,"aria-grabbed"),o(e,"aria-copied"),o(e,"draggable"),o(e,"role")}(l)},D=function(n){var o=e(n,"opts"),i=t(n.children,o.items),s=A(i,o.handle);a(n,"aria-dropeffect","move"),e(n,"_disabled","false"),a(s,"draggable","true"),"function"!=typeof(document||window.document).createElement("span").dragDrop||o.disableIEFix||r(s,"mousedown",function(){if(-1!==i.indexOf(this))this.dragDrop();else{for(var e=this.parentElement;-1===i.indexOf(e);)e=e.parentElement;e.dragDrop()}})},O=function(r){var a=e(r,"opts"),o=t(r.children,a.items),i=A(o,a.handle);e(r,"_disabled","false"),g(o),n(i,"mousedown"),h(r)},S=function(e,t){var r=document.createEvent("Event");return t&&(r.detail=t),r.initEvent(e,!1,!0),r},F=function(r){return t(r.children,e(r,"items"))};function N(n,o){var f=String(o);if(o=function(e){var t={connectWith:!1,acceptFrom:null,copy:!1,placeholder:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",hoverClass:!1,debounce:0,maxItems:0};for(var r in e)t[r]=e[r];return t}(o),"string"==typeof n&&(n=document.querySelectorAll(n)),n instanceof window.Element&&(n=[n]),n=Array.prototype.slice.call(n),/serialize/.test(f)){var g=[];return n.forEach(function(e){g.push({list:e,children:F(e)})}),g}return n.forEach(function(n){if(/enable|disable|destroy/.test(f))return N[f](n);o=e(n,"opts")||o,e(n,"opts",o),O(n);var g,h,A,C=t(n.children,o.items),W=v(n,o.placeholder,o.placeholderClass);if(e(n,"items",o.items),m.set(n,W),o.acceptFrom?e(n,"acceptFrom",o.acceptFrom):o.connectWith&&e(n,"connectWith",o.connectWith),D(n),a(C,"role","option"),a(C,"aria-grabbed","false"),"string"==typeof o.hoverClass){var Y=o.hoverClass.split(" ");r(C,"mouseenter",function(e){var t;(t=e.target.classList).add.apply(t,Y)}),r(C,"mouseleave",function(e){var t;(t=e.target.classList).remove.apply(t,Y)})}r(n,"dragstart",function(e){if(!I(e.target)&&(e.stopImmediatePropagation(),(!o.handle||e.target.matches(o.handle))&&"false"!==e.target.getAttribute("draggable"))){var t=L(e.target),r=T(t,e.target);y(e,r),c=x(r),r.classList.add(o.draggingClass),a(d=b(r,t),"aria-grabbed","true"),g=s(d),h=L(e.target),A=F(h),t.dispatchEvent(S("sortstart",{item:d,placeholder:m.get(t),startparent:h}))}}),r(n,"dragend",function(r){var n;if(d){var i=L(r.target);d.classList.remove(o.draggingClass),a(d,"aria-grabbed","false"),"true"===d.getAttribute("aria-copied")&&"true"!==e(d,"dropped")&&d.remove(),d.style.display=d.oldDisplay,delete d.oldDisplay,m.forEach(function(e){return e.remove()}),n=this.parentElement,E(n,h)&&(i.dispatchEvent(S("sortstop",{item:d,startparent:h})),g===s(d)&&h===n||i.dispatchEvent(S("sortupdate",{item:d,index:t(n.children,e(n,"items")).indexOf(d),oldindex:C.indexOf(d),elementIndex:s(d),oldElementIndex:g,startparent:h,endparent:n,newEndList:F(n),newStartList:F(h),oldStartList:A}))),d=null,c=null}}),r(n,"drop",function(t){if(E(n,d.parentElement)){t.preventDefault(),t.stopPropagation(),e(d,"dropped","true");var r=Array.from(m.values()).filter(l)[0];p(r,d)}});var M,P,_,B=(M=function(e,r,n){if(d){var a=m.get(e);if(o.forcePlaceholderSize&&(a.style.height=c+"px"),-1!==t(e.children,o.items).indexOf(r)){var l=x(r),f=s(a),g=s(r);if(l>c){var h=l-c,v=i(r).top;if(f<g&&n<v+h)return;if(f>g&&n>v+l-h)return}void 0===d.oldDisplay&&(d.oldDisplay=d.style.display),"none"!==d.style.display&&(d.style.display="none"),f<g?p(r,a):u(r,a),Array.from(m.values()).filter(function(e){return e!==a}).forEach(function(e){return e.remove()})}else-1!==Array.from(m.values()).indexOf(r)||e!==r||t(r.children,o.items).length||(m.forEach(function(e){return e.remove()}),r.appendChild(a))}},void 0===(P=o.debounce)&&(P=0),function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];clearTimeout(_),_=setTimeout(function(){M.apply(void 0,e)},P)}),H=function(r){var n=r.target,a=I(n)?n:L(n);if(n=T(a,n),d&&E(a,d.parentElement)&&"true"!==e(a,"_disabled")){var o=e(a,"opts");parseInt(o.maxItems)&&t(a.children,e(a,"items")).length>=parseInt(o.maxItems)||(r.preventDefault(),r.stopPropagation(),r.dataTransfer.dropEffect=w(a)?"copy":"move",B(a,n,r.pageY))}};r(C.concat(n),"dragover",H),r(C.concat(n),"dragenter",H)}),n}return N.destroy=function(e){C(e)},N.enable=function(e){D(e)},N.disable=function(r){!function(r){var o=e(r,"opts"),i=t(r.children,o.items),s=A(i,o.handle);a(r,"aria-dropeffect","none"),e(r,"_disabled","true"),a(s,"draggable","false"),n(s,"mousedown")}(r)},N}();
//# sourceMappingURL=html5sortable.min.js.map
