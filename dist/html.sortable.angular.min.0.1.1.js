!function(a){"use strict";a.module("htmlSortable",[]).directive("htmlSortable",["$timeout","$parse",function(b,c){return{require:"?ngModel",link:function(d,e,f,g){var h,i;h=a.extend({},d.$eval(f.htmlSortable)),$(e).sortable(h),g&&(i=c(f.ngModel),g.$render=function(){b(function(){$(e).sortable("reload")},50)},d.$watch(i,function(){b(function(){$(e).sortable("reload")},50)},!0),$(e).sortable().bind("sortupdate",function(a,b){var e=b.startparent.attr("ng-model"),f=b.endparent.attr("ng-model"),g=c(e),h=c(f),i=b.oldindex,j=b.item.index();d.$apply(function(){if(e===f){var a=g(d);a.splice(j,0,a.splice(i,1)[0]),g.assign(d,a)}else{var b=d[e][i],c=g(d),k=h(d);c.splice(i,1),k.splice(j,0,b),g.assign(d,c),h.assign(d,k)}})}))}}}])}(angular);